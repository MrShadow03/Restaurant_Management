<VirtualHost *:80>
    ServerName 192.168.0.120
    DocumentRoot "D:/Web_Projects/html/Officials/Backend/Restaurant_Management/public"

    ProxyPass /socket http://localhost:6001/socket
    ProxyPassReverse /socket http://localhost:6001/socket

    <Location /socket>
        RewriteEngine On
        RewriteCond %{REQUEST_URI} ^/socket.io/.*
        RewriteRule ^/socket.io/(.*)$ http://localhost:6001/socket.io/$1 [P,L]

        # Optional: Enable CORS for the socket server
        Header set Access-Control-Allow-Origin "http://192.168.0.120"
        Header set Access-Control-Allow-Methods "GET, POST"
        Header set Access-Control-Allow-Headers "Content-Type"
    </Location>
    # <Directory "D:/Web_Projects/html/Officials/Backend/Restaurant_Management/public">
    #     Options Indexes FollowSymLinks Includes ExecCGI
    #     AllowOverride All
    #     Require all granted
    # </Directory>

    # <Location /socket>
    #     ProxyPassReverse http://192.168.0.120:6001
    #     ProxyPreserveHost On
    #     # ProxyRequests Off
    #     RewriteEngine On
    #     RewriteCond %{REQUEST_URI}  ^/socket.io/.*
    #     RewriteRule ^/socket.io/(.*)$ http://192.168.0.120:6001/$1 [P,L]

    #     Header set Access-Control-Allow-Origin "http://192.168.0.120"
    #     Header set Access-Control-Allow-Methods "GET, POST"
    #     Header set Access-Control-Allow-Headers "Content-Type"
    # </Location>
    
</VirtualHost>